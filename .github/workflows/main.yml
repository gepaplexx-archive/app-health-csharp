name: GitHub Actions Main
on: 
  push:
    branches: 
        - main

jobs:
  Explore-GitHub-Actions:
    runs-on: windows-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v2
      - name: Unit Test
        run: cd .\app-health-csharp-unitTest && dotnet test  
      - if: ${{ github.app-health-csharp.app-health-csharp-unitTest.conclusion == 'success' }}
        name: testingparty
        run: dir        
  build:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v2
    - name: Build the Docker image
      run: docker build . --file ./gepaplexxPraktikantenAnwendung/Dockerfile --tag first-image-name:$(date +%s)
  tagged-release:
    runs-on: windows-latest
    steps:
    - name: "Build & test"
      run: |
        echo "done!"
    - uses: "marvinpinto/action-automatic-releases@latest"
      with:
        repo_token: "${{ secrets.GITHUB_TOKEN }}"
        prerelease: false
        files: |
          LICENSE.txt
          *.jar